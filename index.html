<!-- <html>
  <body>
    <p id='server-time'></p>
    <script>
      var HOST = location.origin.replace(/^http/, 'ws')
      var ws = new WebSocket(HOST);
      var el = document.getElementById('server-time');
//       ws.onmessage = function (event) {
//         console.log(event.data);
//         el.innerHTML = 'Server: ' + event.data;
//       };
      ws.onopen = function (event) {
        console.log('Connected');
        el.innerHTML = 'Server: ' + event.data;
        ws.send('From Client');
      };
        ws.onclose = function (event) {
        console.log('DisConnected');
      };
    </script>
  </body>
</html> -->
<html>
  <body>
    <div>
      <h3>Websocket using Node</h3>
      <p>"hello": "Hi", "name":"Abhi", "server":"websocket", "hi": "hello", "version": "1.0"</p>
    <label for="clientReq"><b>Enter Message: </b></label>
    <input type="text" id="clientReq" name='res'>
    <button onclick="myFunction();">Send</button>
    <br><br>
    <h3><p id="serverRes"></p></h3>
  </div>
    <script>
      var HOST = location.origin.replace(/^http/, 'ws')
      var ws = new WebSocket(HOST);
      var el = document.getElementById('serverRes');

      function myFunction() {
        console.log('MyFunction');
        console.log(ws);
        var msg = document.getElementById('clientReq').value
        ws.send(msg);
      };

      ws.onopen = function (event) {
        console.log('opened server!!')
      };

      ws.onmessage = function (event) {
        console.log(event);
        el.innerHTML = 'Server: ' + event.data;
      };

      ws.onclose = function (event) {
        console.log('Connection Ended!!')
      }
    </script>
  </body>
</html>
